{"ast":null,"code":"import _slicedToArray from \"/Users/alexbrown/Desktop/proshop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/alexbrown/Desktop/proshop/frontend/src/screens/ProfileScreen.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport { Row, Col, Form, Button } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport { getUserDetails, updateUserProfile } from '../actions/userActions';\n\nvar ProfileScreen = function ProfileScreen() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      email = _useState4[0],\n      setEmail = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      confirmPassword = _useState8[0],\n      setConfirmPassword = _useState8[1];\n\n  var _useState9 = useState(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      message = _useState10[0],\n      setMessage = _useState10[1];\n\n  var navigate = useNavigate();\n  var location = useLocation();\n  var dispatch = useDispatch();\n  var userDetails = useSelector(function (state) {\n    return state.userDetails;\n  });\n  var loading = userDetails.loading,\n      error = userDetails.error,\n      user = userDetails.user;\n  var userLogin = useSelector(function (state) {\n    return state.userDetails;\n  });\n  var userInfo = userLogin.userInfo;\n  var userUpdateProfile = useSelector(function (state) {\n    return state.userDetails;\n  });\n  var success = userUpdateProfile.success;\n  useEffect(function () {\n    if (!userInfo) {\n      navigate('/login');\n    } else {\n      if (!user.name) {\n        dispatch(getUserDetails('profile'));\n      } else {\n        setName(user.name);\n        setEmail(user.email);\n      }\n    }\n  }, [dispatch, navigate, userInfo, user]);\n\n  var submitHandler = function submitHandler(e) {\n    e.preventDefault();\n\n    if (password !== confirmPassword) {\n      setMessage('Passwords do not match');\n    } else {\n      dispatch(updateUserProfile({\n        id: user._id,\n        name: name,\n        email: email,\n        password: password\n      }));\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, \"User Profile\"), message && /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }, message), error && /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 19\n    }\n  }, error), success && /*#__PURE__*/React.createElement(Message, {\n    variant: \"success\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, \"Profile Updated\"), loading && /*#__PURE__*/React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: submitHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"name\",\n    placeholder: \"Enter Name\",\n    value: name,\n    onChange: function onChange(e) {\n      return setName(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, \"Email Address\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"email\",\n    placeholder: \"Enter Email\",\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"password\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"Enter Password\",\n    value: password,\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"confirmPassword\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, \"Confirm Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"confirmPassword\",\n    placeholder: \"Confirm Password\",\n    value: confirmPassword,\n    onChange: function onChange(e) {\n      return setConfirmPassword(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    variant: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, \"Register\"))), /*#__PURE__*/React.createElement(Col, {\n    md: 9,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, \"My Orders\"));\n};\n\nexport default ProfileScreen;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useLocation","Row","Col","Form","Button","useDispatch","useSelector","Message","Loader","getUserDetails","updateUserProfile","ProfileScreen","name","setName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","message","setMessage","navigate","location","dispatch","userDetails","state","loading","error","user","userLogin","userInfo","userUpdateProfile","success","submitHandler","e","preventDefault","id","_id","target","value"],"sources":["/Users/alexbrown/Desktop/proshop/frontend/src/screens/ProfileScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link, useNavigate, useLocation } from 'react-router-dom'\nimport { Row, Col, Form, Button } from 'react-bootstrap'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Message from '../components/Message'\nimport Loader from '../components/Loader'\nimport { getUserDetails, updateUserProfile } from '../actions/userActions'\n\n\nconst ProfileScreen = () => {\n\n    const [name, setName] = useState('')\n    const [email, setEmail] = useState('')\n    const [password, setPassword] = useState('')\n    const [confirmPassword, setConfirmPassword] = useState('')\n    const [message, setMessage] = useState(null)\n\n    const navigate = useNavigate()\n    const location = useLocation()\n\n    const dispatch = useDispatch()\n\n    const userDetails = useSelector((state) => state.userDetails)\n    const { loading, error, user } = userDetails\n\n    const userLogin = useSelector((state) => state.userDetails)\n    const { userInfo } = userLogin\n\n    const userUpdateProfile = useSelector((state) => state.userDetails)\n    const { success } = userUpdateProfile\n\n\n    useEffect(() => {\n        if (!userInfo) {\n            navigate('/login')\n        } else {\n            if (!user.name) {\n                dispatch(getUserDetails('profile'))       \n            } else {\n                setName(user.name)\n                setEmail(user.email)\n            }\n        }\n    }, [dispatch, navigate, userInfo, user])\n\n    const submitHandler = (e) => {\n        e.preventDefault()\n\n        if (password !== confirmPassword) {\n            setMessage('Passwords do not match')\n        } else {\n            dispatch(updateUserProfile({ id: user._id, name, email, password }))\n        }\n    }\n\n  return (\n    <Row>\n        <Col md={3}>\n        <h2>User Profile</h2>\n        {message && <Message variant='danger'>{message}</Message>}\n        {error && <Message variant='danger'>{error}</Message>}\n        {success && <Message variant='success'>Profile Updated</Message>}\n        {loading && <Loader />}\n        <Form onSubmit={submitHandler}>\n            {/* Name */}\n            <Form.Group controlId=\"name\">\n                <Form.Label>Name</Form.Label>\n                <Form.Control \n                    type='name' \n                    placeholder='Enter Name' \n                    value={name}\n                    onChange={(e) => setName(e.target.value)}\n                ></Form.Control>\n            </Form.Group>\n            {/* Email */}\n            <Form.Group controlId=\"email\">\n                <Form.Label>Email Address</Form.Label>\n                <Form.Control \n                    type='email' \n                    placeholder='Enter Email' \n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                ></Form.Control>\n            </Form.Group>\n            {/* Password */}\n            <Form.Group controlId=\"password\">\n                <Form.Label>Password</Form.Label>\n                <Form.Control \n                    type='password' \n                    placeholder='Enter Password' \n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                ></Form.Control>\n            </Form.Group>\n            {/* Confirm Password */}\n            <Form.Group controlId=\"confirmPassword\">\n                <Form.Label>Confirm Password</Form.Label>\n                <Form.Control \n                    type='confirmPassword' \n                    placeholder='Confirm Password' \n                    value={confirmPassword}\n                    onChange={(e) => setConfirmPassword(e.target.value)}\n                ></Form.Control>\n            </Form.Group>\n            <Button type='submit' variant='primary'>\n                Register\n            </Button>\n        </Form>\n        </Col>\n        <Col md={9}>\n            My Orders\n        </Col>\n    </Row>\n  )\n}\n\nexport default ProfileScreen"],"mappings":"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"},"metadata":{},"sourceType":"module"}