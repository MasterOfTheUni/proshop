{"ast":null,"code":"import _toConsumableArray from \"/Users/alexbrown/Desktop/proshop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/alexbrown/Desktop/proshop/frontend/src/screens/CartScreen.js\";\n\nimport React, { useEffect } from 'react';\nimport { Link, useParams, useNavigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Row, Col, ListGroup, Image, Form, Button, Card } from 'react-bootstrap';\nimport Message from '../components/Message';\nimport { addToCart, removeFromCart } from '../actions/cartActions';\n\nvar CartScreen = function CartScreen() {\n  var _useParams = useParams(),\n      id = _useParams.id,\n      qty = _useParams.qty;\n\n  var navigate = useNavigate();\n  var dispatch = useDispatch();\n  var cart = useSelector(function (state) {\n    return state.cart;\n  });\n  var cartItems = cart.cartItems;\n  console.log(cartItems);\n  useEffect(function () {\n    if (id) {\n      dispatch(addToCart(id, Number(qty)));\n    }\n  }, [dispatch, id, qty]);\n\n  var removeFromCartHandler = function removeFromCartHandler(id) {\n    dispatch(removeFromCart(id));\n  };\n\n  var checkoutHandler = function checkoutHandler(id) {\n    navigate('/login?redirect=shipping');\n  };\n\n  return /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 8,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, \"Shopping Cart\"), cartItems.length === 0 ? /*#__PURE__*/React.createElement(Message, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 39\n    }\n  }, \"Your cart is empty\", /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, \" Go Back\")) : /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 21\n    }\n  }, cartItems.map(function (item) {\n    return /*#__PURE__*/React.createElement(ListGroup.Item, {\n      key: item.product,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: item.image,\n      alt: item.name,\n      fluid: true,\n      rounded: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: 3,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/product/\".concat(item.product),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 41\n      }\n    }, item.name)), /*#__PURE__*/React.createElement(Col, {\n      md: 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 37\n      }\n    }, item.price), /*#__PURE__*/React.createElement(Col, {\n      md: 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"select\",\n      value: item.qty,\n      onChange: function onChange(e) {\n        return dispatch(addToCart(item.product, Number(e.target.value)));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 37\n      }\n    }, _toConsumableArray(Array(item.countInStock).keys()).map(function (x) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: x + 1,\n        value: x + 1,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 49\n        }\n      }, x + 1);\n    }))), /*#__PURE__*/React.createElement(Col, {\n      md: 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      variant: \"light\",\n      onClick: function onClick() {\n        return removeFromCartHandler(item.product);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-trash\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 45\n      }\n    })))));\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }\n  }, \"Subtotal (\", cartItems.reduce(function (acc, item) {\n    return acc + item.qty;\n  }, 0), \") items\"), \"$\", cartItems.reduce(function (acc, item) {\n    return acc + item.qty * item.price;\n  }, 0).toFixed(2)), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    className: \"btn-block\",\n    disabled: cartItems.length === 0,\n    onClick: checkoutHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  }, \"Proceed To Checkout\"))))));\n};\n\nexport default CartScreen;","map":{"version":3,"names":["React","useEffect","Link","useParams","useNavigate","useDispatch","useSelector","Row","Col","ListGroup","Image","Form","Button","Card","Message","addToCart","removeFromCart","CartScreen","id","qty","navigate","dispatch","cart","state","cartItems","console","log","Number","removeFromCartHandler","checkoutHandler","length","map","item","product","image","name","price","e","target","value","Array","countInStock","keys","x","reduce","acc","toFixed"],"sources":["/Users/alexbrown/Desktop/proshop/frontend/src/screens/CartScreen.js"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { Link, useParams, useNavigate } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Row, Col, ListGroup, Image, Form, Button, Card } from 'react-bootstrap' \nimport Message from '../components/Message'\nimport { addToCart, removeFromCart } from '../actions/cartActions'\n\nconst CartScreen = () => {\n\n    const { id, qty } = useParams()\n\n    const navigate = useNavigate()\n\n    const dispatch = useDispatch()\n\n    const cart = useSelector(state => state.cart)\n    const { cartItems } = cart\n\n    console.log(cartItems)\n\n    useEffect(() => {\n        if (id) {\n            dispatch(addToCart(id, Number(qty)))\n        }\n    }, [dispatch, id, qty])\n\n    const removeFromCartHandler = (id) => {\n        dispatch(removeFromCart(id))\n    }\n\n    const checkoutHandler = (id) => {\n        navigate('/login?redirect=shipping')\n    }\n\n  return (\n    <Row>\n        <Col md={8}>\n            <h1>Shopping Cart</h1>\n            {cartItems.length === 0 ? <Message>Your cart is empty \n                <Link to='/'> Go Back</Link></Message> : (\n                    <ListGroup variant='flush'>\n                        {cartItems.map((item) => (\n                            <ListGroup.Item key={item.product}>\n                                <Row>\n                                    <Col md={2}>\n                                        <Image src={item.image} alt={item.name} fluid rounded />\n                                    </Col>\n                                    <Col md={3}>\n                                        <Link to={`/product/${item.product}`}>{item.name}</Link>\n                                    </Col>\n                                    <Col md={2}>{item.price}</Col>\n                                    <Col md={2}>\n                                    <Form.Control \n                                            as='select' \n                                            value={item.qty} \n                                            onChange={(e) => dispatch(addToCart(item.product, Number(e.target.value)))}\n                                            >\n                                            {\n                                               [...Array(item.countInStock).keys()].map((x) => (\n                                                <option key={x + 1} value={x + 1}>\n                                                    {x + 1}\n                                                </option>\n                                               ))\n                                            } \n                                        </Form.Control>\n                                    </Col>\n                                    <Col md={2}>\n                                        <button type='button' variant='light' onClick={() => removeFromCartHandler(item.product)}>\n                                            <i className='fas fa-trash'></i>\n                                        </button>\n                                    </Col>\n                                </Row>\n                            </ListGroup.Item>\n                        ))}\n                    </ListGroup>)}\n        </Col>\n        <Col md={4}>\n            <Card>\n                <ListGroup variant='flush'>\n                    <ListGroup.Item>\n                        <h2>Subtotal ({cartItems.reduce((acc, item) => acc + item.qty, 0)}) items</h2>\n                        ${cartItems.reduce((acc, item) => acc + item.qty * item.price, 0).toFixed(2)}\n                    </ListGroup.Item>\n                    <ListGroup.Item>\n                        <Button type='button' className='btn-block' disabled={cartItems.length === 0} onClick={checkoutHandler}>\n                            Proceed To Checkout \n                        </Button>\n                    </ListGroup.Item>\n                </ListGroup>\n            </Card>\n        </Col>\n    </Row>\n  )\n}\n\nexport default CartScreen"],"mappings":"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"},"metadata":{},"sourceType":"module"}